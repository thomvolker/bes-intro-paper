"0","## number of studies"
"0","nstudies <- 1:5"
"0",""
"0","## sample size per study"
"0","n <- 20"
"0",""
"0","ntotal <- nstudies * n"
"0",""
"0","## Bayesian sequential updating informative hypothesis (p > 0.6) "
"0","## versus unconstrained hypothesis"
"0","bsu_iu_7 <- (1 - pbeta(0.6, 0.7 * ntotal + 1, 0.3 * ntotal + 1)) / 0.4"
"0",""
"0","## Bayesian evidence synthesis of informative hypothesis (p > 0.6) versus"
"0","## the unconstrained hypothesis"
"0","bes_iu_7    <- bsu_iu_7[1] ^ {1:length(nstudies)}"
"0",""
"0","## Collect the study information in a single tibble for plotting"
"0","collect <- function(studies, bsu, bes) {"
"0","  tibble(`Number of studies` = studies,"
"0","         `Bayesian Sequential Updating_PMP` = bsu / (1 + bsu),"
"0","         `Bayesian Evidence Synthesis_PMP` = bes / (1 + bes)) %>%"
"0","    pivot_longer(cols = -`Number of studies`,"
"0","                 names_to = c(""Method"", "".value""),"
"0","                 names_sep = ""_"")"
"0","}"
"0",""
"0","plot.bsu.bes.pmp <- function(collection) {"
"0","  collection %>%"
"0","    ggplot(aes(x = `Number of studies`, y = PMP, linetype = Method)) +"
"0","    geom_line() +"
"0","    geom_point() +"
"0","    theme_classic() +"
"0","    theme(legend.position = c(0.2, 0.95),"
"0","          legend.title = element_blank(),"
"0","          legend.text  = element_text(family = ""Times New Roman"", size = 12),"
"0","          axis.text  = element_text(family = ""Times New Roman""),"
"0","          axis.title = element_text(family = ""Times New Roman"")) +"
"0","    ylim(0,1)"
"0","}"
"0",""
"0",""
"0",""
"0","bes_bsu_7_Hiu_pmp <- collect(nstudies, bsu_iu_7, bes_iu_7) %>%"
"0","  plot.bsu.bes.pmp() +"
"0","  ylab(expression(PMP[""i,u""]))"
"0",""
"0",""
"0","bes_bsu_7_Hiu_pmp"
